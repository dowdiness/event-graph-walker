// Generated using `moon info`, DON'T EDIT IT
package "dowdiness/event-graph-walker/document"

import {
  "dowdiness/event-graph-walker/branch",
  "dowdiness/event-graph-walker/core",
  "dowdiness/event-graph-walker/fugue",
  "dowdiness/event-graph-walker/oplog",
}

// Values

// Errors
pub(all) suberror DocumentError {
  InvalidPosition(pos~ : Int)
  MissingOrigin(raw~ : @core.RawVersion)
  OpLog(@oplog.OpLogError)
  Fugue(@fugue.FugueError)
  Branch(@branch.BranchError)
}

// Types and methods
pub struct Document {
  agent_id : String
  // private fields
}
pub fn Document::apply_remote(Self, @core.Op) -> Unit raise DocumentError
pub fn Document::checkout_branch(Self, @core.Frontier) -> @branch.Branch raise DocumentError
pub fn Document::delete(Self, Int) -> @core.Op raise DocumentError
pub fn Document::delete_by_lv(Self, Int) -> @core.Op raise DocumentError
pub fn Document::diff_and_collect(Self, @core.Frontier, @core.Frontier) -> (Array[@core.Op], Array[@core.Op])
pub fn Document::get_all_ops(Self) -> Array[@core.Op]
pub fn Document::get_frontier(Self) -> @core.Frontier
pub fn Document::get_frontier_array(Self) -> Array[Int]
pub fn Document::get_frontier_raw(Self) -> Array[@core.RawVersion] raise DocumentError
pub fn Document::get_visible_items(Self) -> Array[(Int, @fugue.Item)]
pub fn Document::insert(Self, Int, String) -> @core.Op raise DocumentError
pub fn Document::lv_to_position(Self, Int) -> Int?
pub fn Document::merge_remote(Self, Array[@core.Op], Array[@core.RawVersion]) -> Unit raise DocumentError
pub fn Document::new(String) -> Self
pub fn Document::to_text(Self) -> String
pub fn Document::undelete(Self, Int) -> @core.Op raise DocumentError
pub fn Document::visible_count(Self) -> Int
pub impl @core.RawToLv for Document
pub impl Show for Document

// Type aliases

// Traits
pub(open) trait Undoable {
  lv_to_position(Self, Int) -> Int?
  undelete_lv(Self, Int) -> @core.Op raise DocumentError
  delete_lv(Self, Int) -> @core.Op raise DocumentError
}

